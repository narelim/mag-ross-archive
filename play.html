---
layout: null
permalink: /play/
---
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Viewer</title>
    <link rel="stylesheet" href="{{ '/assets/css/play-style.css' | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="play-mode">

    <header class="play-header">
        <div class="play-title">
            <i class="fas fa-bars play-icon-menu"></i> <span>ë¼ì´ë¸ŒëŸ¬ë¦¬</span>
        </div>
        <div>
            <i class="fas fa-search play-icon-menu" style="margin-right:15px;"></i>
            <i class="fas fa-sort-amount-down play-icon-menu"></i>
        </div>
    </header>

    <div class="play-filter-bar">
        <div class="play-chip active">ì‘í’ˆ</div>
        <div class="play-chip">ëª¨ë‘</div>
        <div class="play-chip">ë§Œí™” Â· CG</div>
        <div class="play-chip">ì†Œì„¤</div>
    </div>

    <div class="play-container" id="play-list">
        </div>
<script>
    console.log("--- ë·°ì–´ ë¡œë”© ì‹œì‘ ---");

    // 1. ëª¨ë“  í¬ìŠ¤íŠ¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    const allPosts = [
        {% for post in site.posts %}
        {
            title: "{{ post.title | replace: '"', '\"' }}",
            url: "{{ post.url | relative_url }}",
            date: "{{ post.date | date: '%Y.%m.%d' }}",
            image: "{{ post.image | relative_url }}",
            author: "{{ post.author | default: 'Unknown' }}",
            
            // ê³µë°± ì œê±°ë¥¼ ìœ„í•´ trim í•„í„° ì¶”ê°€
            seriesId: "{{ post.series_id | strip }}", 
            tags: {{ post.tags | jsonify }}, 
            layout: "{{ post.layout | strip }}"
        },
        {% endfor %}
    ];

    // 2. URL íŒŒë¼ë¯¸í„° ì½ê¸°
    const urlParams = new URLSearchParams(window.location.search);
    // URLì—ì„œ ê°€ì ¸ì˜¨ IDë„ ê³µë°± ì œê±°
    const targetId = (urlParams.get('id') || "").trim(); 

    console.log("ì°¾ìœ¼ë ¤ëŠ” ID:", targetId);

    const listContainer = document.getElementById('play-list');
    let count = 0;

    // 3. ëª©ë¡ ìƒì„±
    if (targetId) {
        allPosts.forEach(post => {
            
            // ë””ë²„ê¹…ìš© ë¡œê·¸ (F12 ì½˜ì†”ì—ì„œ í™•ì¸ ê°€ëŠ¥)
            // console.log("ê¸€ ê²€ì‚¬:", post.title, "/ ID:", post.seriesId, "/ Layout:", post.layout);

            // ğŸš¨ í•µì‹¬ ë¹„êµ ë¡œì§ (ê³µë°± ì œê±° í›„ ë¹„êµ)
            // ì¡°ê±´: ì‹œë¦¬ì¦ˆ IDê°€ ê°™ê³  AND ë ˆì´ì•„ì›ƒì´ 'product'ê°€ ì•„ë‹ ê²ƒ
            if (post.seriesId === targetId && post.layout !== 'product') {
                
                let thumbImg = post.image && post.image !== "" ? post.image : "https://via.placeholder.com/90x90?text=No+Img";
                
                // íƒœê·¸ ë±ƒì§€
                let badgeHTML = "";
                if (post.tags && post.tags.length > 0) {
                    badgeHTML = `<span class="play-badge">${post.tags[0]}</span>`;
                }

                const itemHTML = `
                    <a href="${post.url}" class="play-item">
                        <div class="play-thumb">
                            <img src="${thumbImg}" alt="thumb">
                        </div>
                        <div class="play-info">
                            <div class="play-item-title">${post.title}</div>
                            <div class="play-item-meta">${post.author} Â· ${post.date}</div>
                            ${badgeHTML}
                        </div>
                    </a>
                `;
                listContainer.innerHTML += itemHTML;
                count++;
            }
        });
    }

    // 4. ê²°ê³¼ ì—†ìŒ ì²˜ë¦¬
    if (count === 0) {
        listContainer.innerHTML = `
            <div style="text-align:center; padding:50px; color:#888;">
                <i class="fas fa-folder-open" style="font-size:3rem; margin-bottom:10px;"></i><br>
                ì—°ê²°ëœ ì—í”¼ì†Œë“œê°€ ì—†ìŠµë‹ˆë‹¤.<br>
                <span style="font-size:0.8rem; color:#aaa;">(Series ID: ${targetId || 'ì—†ìŒ'})</span><br>
                <span style="font-size:0.7rem; color:#ccc;">IDê°€ ì •í™•í•œì§€ YAML íŒŒì¼ì„ í™•ì¸í•´ë³´ì„¸ìš”!</span>
            </div>`;
    } else {
        console.log("ì´ " + count + "ê°œì˜ ì—í”¼ì†Œë“œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.");
    }
</script>


</body>
</html>

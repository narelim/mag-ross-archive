---
layout: null
permalink: /play/
---
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Viewer</title>
    <link rel="stylesheet" href="{{ '/assets/css/play-style.css' | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="play-mode">

    <header class="play-header">
        <div class="play-title">
            <i class="fas fa-bars play-icon-menu"></i> <span>ë¼ì´ë¸ŒëŸ¬ë¦¬</span>
        </div>
        <div>
            <i class="fas fa-search play-icon-menu" style="margin-right:15px;"></i>
            <i class="fas fa-sort-amount-down play-icon-menu"></i>
        </div>
    </header>

    <div class="play-filter-bar">
        <div class="play-chip active">ì‘í’ˆ</div>
        <div class="play-chip">ëª¨ë‘</div>
        <div class="play-chip">ë§Œí™” Â· CG</div>
        <div class="play-chip">ì†Œì„¤</div>
    </div>

    <div class="play-container" id="play-list">
        </div>
<script>
    console.log("--- ğŸ•µï¸â€â™€ï¸ í†µí•© ê²€ìƒ‰ ì‹œì‘ ---");

    const allPosts = [
        // 1. [í¬ìŠ¤íŠ¸] _posts í´ë”ì— ìˆëŠ” ê¸€ë“¤ (ë‚ ì§œ ìˆëŠ” ê²ƒ)
        {% for post in site.posts %}
        {
            title: "{{ post.title | replace: '"', '\"' }}",
            url: "{{ post.url | relative_url }}",
            date: "{{ post.date | date: '%Y.%m.%d' }}",
            image: "{{ post.image | relative_url }}",
            author: "{{ post.author | default: 'Unknown' }}",
            seriesId: "{{ post.series_id | strip }}", 
            tags: {{ post.tags | jsonify }}, 
            layout: "{{ post.layout | strip }}"
        },
        {% endfor %}

        // 2. [í˜ì´ì§€] _posts ë°–, ì¼ë°˜ í´ë”ì— ìˆëŠ” ê¸€ë“¤ (secretposts í´ë” ë“±) ğŸš¨ ì—¬ê¸° ì¶”ê°€ë¨!
        {% for page in site.pages %}
            // series_idê°€ ìˆëŠ” í˜ì´ì§€ë§Œ ê°€ì ¸ì˜µë‹ˆë‹¤ (ì†ë„ ìµœì í™”)
            {% if page.series_id %}
            {
                title: "{{ page.title | replace: '"', '\"' }}",
                url: "{{ page.url | relative_url }}",
                // í˜ì´ì§€ëŠ” ë‚ ì§œê°€ ì—†ì„ ìˆ˜ë„ ìˆì–´ì„œ ìˆ˜ì •ì¼ ë“±ì„ ê°€ì ¸ì˜´
                date: "{{ page.date | default: site.time | date: '%Y.%m.%d' }}",
                image: "{{ page.image | relative_url }}",
                author: "{{ page.author | default: 'Unknown' }}",
                seriesId: "{{ page.series_id | strip }}", 
                tags: {{ page.tags | jsonify }}, 
                layout: "{{ page.layout | strip }}"
            },
            {% endif %}
        {% endfor %}
    ];

    // URL íŒŒë¼ë¯¸í„° ì½ê¸°
    const urlParams = new URLSearchParams(window.location.search);
    const targetId = (urlParams.get('id') || "").trim(); 

    console.log("ì°¾ëŠ” ID:", targetId);
    console.log("ê²€ìƒ‰ ëŒ€ìƒ ë¬¸ì„œ ìˆ˜:", allPosts.length);

    const listContainer = document.getElementById('play-list');
    let count = 0;

    // ëª©ë¡ ìƒì„±
    if (targetId) {
        allPosts.forEach(post => {
            // IDê°€ ê°™ê³  && ë ˆì´ì•„ì›ƒì´ product(ë¶€ëª¨)ê°€ ì•„ë‹Œ ê²ƒ
            if (post.seriesId === targetId && post.layout !== 'product') {
                
                let thumbImg = post.image && post.image !== "" ? post.image : "https://via.placeholder.com/90x90?text=No+Img";
                
                let badgeHTML = "";
                if (post.tags && post.tags.length > 0) {
                    badgeHTML = `<span class="play-badge">${post.tags[0]}</span>`;
                }

                const itemHTML = `
                    <a href="${post.url}" class="play-item">
                        <div class="play-thumb">
                            <img src="${thumbImg}" alt="thumb">
                        </div>
                        <div class="play-info">
                            <div class="play-item-title">${post.title}</div>
                            <div class="play-item-meta">${post.author} Â· ${post.date}</div>
                            ${badgeHTML}
                        </div>
                    </a>
                `;
                listContainer.innerHTML += itemHTML;
                count++;
            }
        });
    }

    // ê²°ê³¼ ì—†ìŒ ì²˜ë¦¬
    if (count === 0) {
        listContainer.innerHTML = `
            <div style="text-align:center; padding:50px; color:#888;">
                <i class="fas fa-search-minus" style="font-size:3rem; margin-bottom:10px;"></i><br>
                ë¶ˆëŸ¬ì˜¬ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.<br>
                <span style="font-size:0.8rem; color:#aaa;">(ID: ${targetId})</span><br><br>
                <span style="font-size:0.75rem; background:#eee; padding:5px; border-radius:3px;">
                    íŒ: secretposts í´ë”ê°€ _posts ë°–ì— ìˆë‚˜ìš”?
                </span>
            </div>`;
    }
</script>

</body>
</html>

---
layout: default
title: Search
---

<div class="hero">
    <h1 style="margin-bottom: 10px;">Archive Search</h1>
    <p style="color: #666;">제목이나 태그를 입력해서 기록을 찾아보세요.</p>
</div>

<div style="text-align: center; margin-bottom: 50px;">
    <input type="text" id="search-input" placeholder="검색어 입력 (예: 학원물, 혐관...)" 
    style="width: 100%; max-width: 400px; padding: 15px; border: 1px solid #111; font-family: 'Noto Sans KR'; font-size: 1rem; outline: none;">
</div>

<ul id="search-results" style="list-style: none; padding: 0;">
    {% for post in site.posts %}
    
    {% assign p_type = post.type | downcase %} {% unless p_type == 'secret' %} <li class="post-item search-item" data-title="{{ post.title }}" data-tags="{{ post.tags | join: ',' }}">
            <div>
                <span class="post-meta">
                    {{ post.category }} 
                    <span style="color: #999; font-size: 0.8em; margin-left: 5px;">
                        {% for tag in post.tags %}#{{ tag }} {% endfor %}
                    </span>
                </span>
                <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </div>
            <span class="date">{{ post.date | date: "%Y.%m.%d" }}</span>
        </li>
    
    {% endunless %}
    {% endfor %}
</ul>



<script>
document.getElementById('search-input').addEventListener('keyup', function() {
    var filter = this.value.toLowerCase(); // 입력된 검색어 (소문자로 변환)
    var items = document.getElementsByClassName('search-item'); // 모든 글 가져오기

    for (var i = 0; i < items.length; i++) {
        var title = items[i].getAttribute('data-title').toLowerCase();
        var tags = items[i].getAttribute('data-tags').toLowerCase();
        
        // 제목이나 태그에 검색어가 포함되어 있으면 보여주고, 아니면 숨김
        if (title.includes(filter) || tags.includes(filter)) {
            items[i].style.display = "flex";
        } else {
            items[i].style.display = "none";
        }
    }
});
</script>
